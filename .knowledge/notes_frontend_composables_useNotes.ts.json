{"is_source_file": true, "format": "TypeScript", "description": "This file defines a composable function `useNotes` for managing a local state of notes in a Vue.js application, including CRUD operations, localStorage persistence, and note selection.", "external_files": ["#imports", "vue"], "external_methods": ["useRouter", "ref", "computed", "watch"], "published": ["useNotes"], "classes": [], "methods": [{"name": "export function useNotes() { useNotes", "description": "Provides a reactive interface to manage notes, including creation, updating, deletion, renaming, duplication, and persistence via localStorage.", "scope": "", "scopeKind": ""}, {"name": "createNote", "description": "Creates a new note with a unique ID, default title, empty content, and sets it as selected."}, {"name": "update", "description": "Updates a note identified by ID with provided partial data and updates its timestamp."}, {"name": "remove", "description": "Removes a note by ID and updates the selection accordingly."}, {"name": "rename", "description": "Renames a note with a new title, trimming whitespace and defaulting to 'Untitled' if empty."}, {"name": "select", "description": "Selects a note by its ID."}, {"name": "duplicate", "description": "Duplicates the currently selected note, assigning a new ID and appending '(copy)' to its title."}], "calls": ["useRouter", "localStorage.getItem", "localStorage.setItem", "JSON.parse", "JSON.stringify", "crypto.randomUUID", "Date.now", "setTimeout", "notes.value.find", "notes.value.findIndex", "notes.value.splice", "notes.value.unshift", "selected.value.find"], "search-terms": ["Vue composition API", "localStorage persistence", "note management", "CRUD", "composition function", "useNotes", "v-model"], "state": 2, "file_id": 10, "knowledge_revision": 21, "git_revision": "", "ctags": [{"_type": "tag", "name": "Math", "path": "/home/kavia/workspace/code-generation/note-organizer-178576-178585/notes_frontend/composables/useNotes.ts", "pattern": "/^      const next = notes.value[Math.max(0, idx - 1)]$/", "language": "TypeScript", "kind": "constant", "scope": "useNotes", "scopeKind": "function"}, {"_type": "tag", "name": "Note", "path": "/home/kavia/workspace/code-generation/note-organizer-178576-178585/notes_frontend/composables/useNotes.ts", "pattern": "/^export type Note = {$/", "language": "TypeScript", "kind": "alias"}, {"_type": "tag", "name": "STORAGE_KEY", "path": "/home/kavia/workspace/code-generation/note-organizer-178576-178585/notes_frontend/composables/useNotes.ts", "pattern": "/^  const STORAGE_KEY = 'ocean-notes:v1'$/", "language": "TypeScript", "kind": "constant", "scope": "useNotes", "scopeKind": "function"}, {"_type": "tag", "name": "UpdatePayload", "path": "/home/kavia/workspace/code-generation/note-organizer-178576-178585/notes_frontend/composables/useNotes.ts", "pattern": "/^type UpdatePayload = Partial<Omit<Note, 'id'>>$/", "language": "TypeScript", "kind": "alias"}, {"_type": "tag", "name": "base", "path": "/home/kavia/workspace/code-generation/note-organizer-178576-178585/notes_frontend/composables/useNotes.ts", "pattern": "/^    const base = selected.value$/", "language": "TypeScript", "kind": "constant", "scope": "useNotes", "scopeKind": "function"}, {"_type": "tag", "name": "clean", "path": "/home/kavia/workspace/code-generation/note-organizer-178576-178585/notes_frontend/composables/useNotes.ts", "pattern": "/^    const clean = (title ?? '').trim()$/", "language": "TypeScript", "kind": "constant", "scope": "useNotes", "scopeKind": "function"}, {"_type": "tag", "name": "copy", "path": "/home/kavia/workspace/code-generation/note-organizer-178576-178585/notes_frontend/composables/useNotes.ts", "pattern": "/^    const copy: Note = {$/", "language": "TypeScript", "kind": "constant", "scope": "useNotes", "scopeKind": "function"}, {"_type": "tag", "name": "id", "path": "/home/kavia/workspace/code-generation/note-organizer-178576-178585/notes_frontend/composables/useNotes.ts", "pattern": "/^        const id = crypto.randomUUID()$/", "language": "TypeScript", "kind": "constant", "scope": "useNotes", "scopeKind": "function"}, {"_type": "tag", "name": "id", "path": "/home/kavia/workspace/code-generation/note-organizer-178576-178585/notes_frontend/composables/useNotes.ts", "pattern": "/^    const id = crypto.randomUUID()$/", "language": "TypeScript", "kind": "constant", "scope": "useNotes", "scopeKind": "function"}, {"_type": "tag", "name": "idx", "path": "/home/kavia/workspace/code-generation/note-organizer-178576-178585/notes_frontend/composables/useNotes.ts", "pattern": "/^    const idx = notes.value.findIndex(n => n.id === id)$/", "language": "TypeScript", "kind": "constant", "scope": "useNotes", "scopeKind": "function"}, {"_type": "tag", "name": "loading", "path": "/home/kavia/workspace/code-generation/note-organizer-178576-178585/notes_frontend/composables/useNotes.ts", "pattern": "/^  const loading = ref<boolean>(true)$/", "language": "TypeScript", "kind": "constant", "scope": "useNotes", "scopeKind": "function"}, {"_type": "tag", "name": "n", "path": "/home/kavia/workspace/code-generation/note-organizer-178576-178585/notes_frontend/composables/useNotes.ts", "pattern": "/^    const n = notes.value.find(n => n.id === id)$/", "language": "TypeScript", "kind": "constant", "scope": "useNotes", "scopeKind": "function"}, {"_type": "tag", "name": "n", "path": "/home/kavia/workspace/code-generation/note-organizer-178576-178585/notes_frontend/composables/useNotes.ts", "pattern": "/^    const n: Note = { id, title: 'Untitled', content: '', updatedAt: Date.now() }$/", "language": "TypeScript", "kind": "constant", "scope": "useNotes", "scopeKind": "function"}, {"_type": "tag", "name": "next", "path": "/home/kavia/workspace/code-generation/note-organizer-178576-178585/notes_frontend/composables/useNotes.ts", "pattern": "/^      const next = notes.value[Math.max(0, idx - 1)]$/", "language": "TypeScript", "kind": "constant", "scope": "useNotes", "scopeKind": "function"}, {"_type": "tag", "name": "notes", "path": "/home/kavia/workspace/code-generation/note-organizer-178576-178585/notes_frontend/composables/useNotes.ts", "pattern": "/^    notes.value.unshift(copy)$/", "language": "TypeScript", "kind": "constant", "scope": "useNotes", "scopeKind": "function"}, {"_type": "tag", "name": "notes", "path": "/home/kavia/workspace/code-generation/note-organizer-178576-178585/notes_frontend/composables/useNotes.ts", "pattern": "/^  const notes = ref<Note[]>([])$/", "language": "TypeScript", "kind": "constant", "scope": "useNotes", "scopeKind": "function"}, {"_type": "tag", "name": "parsed", "path": "/home/kavia/workspace/code-generation/note-organizer-178576-178585/notes_frontend/composables/useNotes.ts", "pattern": "/^        const parsed = JSON.parse(raw) as { notes: Note[], selectedId: string | null }$/", "language": "TypeScript", "kind": "constant", "scope": "useNotes", "scopeKind": "function"}, {"_type": "tag", "name": "payload", "path": "/home/kavia/workspace/code-generation/note-organizer-178576-178585/notes_frontend/composables/useNotes.ts", "pattern": "/^    const payload = JSON.stringify({$/", "language": "TypeScript", "kind": "constant", "scope": "useNotes", "scopeKind": "function"}, {"_type": "tag", "name": "raw", "path": "/home/kavia/workspace/code-generation/note-organizer-178576-178585/notes_frontend/composables/useNotes.ts", "pattern": "/^      const raw = localStorage.getItem(STORAGE_KEY)$/", "language": "TypeScript", "kind": "constant", "scope": "useNotes", "scopeKind": "function"}, {"_type": "tag", "name": "router", "path": "/home/kavia/workspace/code-generation/note-organizer-178576-178585/notes_frontend/composables/useNotes.ts", "pattern": "/^  const router = useRouter()$/", "language": "TypeScript", "kind": "constant", "scope": "useNotes", "scopeKind": "function"}, {"_type": "tag", "name": "selected", "path": "/home/kavia/workspace/code-generation/note-organizer-178576-178585/notes_frontend/composables/useNotes.ts", "pattern": "/^  const selected = computed(() => notes.value.find(n => n.id === selectedId.value) || null)$/", "language": "TypeScript", "kind": "constant", "scope": "useNotes", "scopeKind": "function"}, {"_type": "tag", "name": "selectedId", "path": "/home/kavia/workspace/code-generation/note-organizer-178576-178585/notes_frontend/composables/useNotes.ts", "pattern": "/^  const selectedId = ref<string | null>(null)$/", "language": "TypeScript", "kind": "constant", "scope": "useNotes", "scopeKind": "function"}, {"_type": "tag", "name": "title", "path": "/home/kavia/workspace/code-generation/note-organizer-178576-178585/notes_frontend/composables/useNotes.ts", "pattern": "/^      title: `${base.title} (copy)`,$/", "language": "TypeScript", "kind": "constant", "scope": "useNotes", "scopeKind": "function"}, {"_type": "tag", "name": "title", "path": "/home/kavia/workspace/code-generation/note-organizer-178576-178585/notes_frontend/composables/useNotes.ts", "pattern": "/^    const n: Note = { id, title: 'Untitled', content: '', updatedAt: Date.now() }$/", "language": "TypeScript", "kind": "constant", "scope": "useNotes", "scopeKind": "function"}, {"_type": "tag", "name": "updatedAt", "path": "/home/kavia/workspace/code-generation/note-organizer-178576-178585/notes_frontend/composables/useNotes.ts", "pattern": "/^      updatedAt: Date.now(),$/", "language": "TypeScript", "kind": "constant", "scope": "useNotes", "scopeKind": "function"}, {"_type": "tag", "name": "useNotes", "path": "/home/kavia/workspace/code-generation/note-organizer-178576-178585/notes_frontend/composables/useNotes.ts", "pattern": "/^export function useNotes() {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "wasSelected", "path": "/home/kavia/workspace/code-generation/note-organizer-178576-178585/notes_frontend/composables/useNotes.ts", "pattern": "/^    const wasSelected = selectedId.value === id$/", "language": "TypeScript", "kind": "constant", "scope": "useNotes", "scopeKind": "function"}], "hash": "cd2b0d5e6f20618def9c65ce40f4b46b", "format-version": 4, "code-base-name": "notes_frontend", "filename": "notes_frontend/composables/useNotes.ts", "revision_history": [{"21": ""}]}